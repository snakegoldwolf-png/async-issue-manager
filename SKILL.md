---
name: async-issue-manager
description: |
  æœ¬åœ°å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç³»ç»Ÿã€‚ç”¨ .issues/ ç›®å½• + Git ç®¡ç†ä»»åŠ¡ï¼ŒAgent è‡ªåŠ¨å»º Issueã€è°ƒåº¦æ´¾æ´»ã€å·¡æŸ¥ä¿®å¤ã€‚
  é€‚åˆ"ä¸Šç­å‰ä¸¢ä»»åŠ¡ï¼Œä¸‹ç­åçœ‹ç»“æœ"çš„å¼‚æ­¥å·¥ä½œæµã€‚ä¸ä¾èµ–ä»»ä½•å¤–éƒ¨æœåŠ¡ã€‚
metadata:
  version: 1.0.0
  author: æ—æœˆ & å°çµ ğŸ¦
  tags: [task-management, async, issues, automation, cron]
---

# Async Issue Manager

çº¯æœ¬åœ°çš„å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç³»ç»Ÿã€‚ç”¨æ–‡ä»¶ç³»ç»Ÿä»£æ›¿æ•°æ®åº“ï¼ŒGit ä»£æ›¿äº‘æœåŠ¡ï¼ŒAgent ä»£æ›¿äººå·¥è·Ÿè¿›ã€‚

## æ ¸å¿ƒç†å¿µ

**äººä¸åœ¨çº¿æ—¶ï¼ŒAgent ä¾ç„¶åœ¨å·¥ä½œã€‚**

```
ä½ ï¼ˆæ—©ä¸Šï¼‰: "å¸®æˆ‘ç ”ç©¶ä¸€ä¸‹ xxx"
  â†“
Agent è‡ªåŠ¨å»º Issue â†’ æ’ä¼˜å…ˆçº§ â†’ æ‰“æ ‡ç­¾
  â†“
ç™½å¤©æ¯å°æ—¶è‡ªåŠ¨è°ƒåº¦ â†’ åˆ¤æ–­æ´¾ç»™å“ªä¸ª Agent
  â†“
åˆ†æå¸ˆ/å†™æ‰‹/æ¢ç´¢è€…/ä¸´æ—¶å·¥ â†’ å„è‡ªæ‰§è¡Œ
  â†“
å®Œæˆ â†’ ç§»å…¥ .issues/closed/ â†’ Git commit
  â†“
ä½ ï¼ˆæ™šä¸Šï¼‰: çœ‹ closed/ é‡Œçš„ç»“æœ
```

## ç›®å½•ç»“æ„

```
.issues/
â”œâ”€â”€ open/           # å¾…å¤„ç†çš„ä»»åŠ¡
â”‚   â””â”€â”€ 035-ç ”ç©¶xxxæ–¹æ¡ˆ.md
â”œâ”€â”€ in-progress/    # æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡
â”‚   â””â”€â”€ 034-å†™æ•™ç¨‹.md
â”œâ”€â”€ closed/         # å·²å®Œæˆçš„ä»»åŠ¡
â”‚   â”œâ”€â”€ 001-ä¿®å¤bug.md
â”‚   â””â”€â”€ 002-å†™æ–‡æ¡£.md
â””â”€â”€ index.json      # ç´¢å¼•ï¼ˆID è®¡æ•°å™¨ + å…¨é‡è®°å½•ï¼‰
```

## Issue æ–‡ä»¶æ ¼å¼

æ¯ä¸ª Issue æ˜¯ä¸€ä¸ª Markdown æ–‡ä»¶ï¼Œå¸¦ YAML front matterï¼š

```markdown
---
id: 35
title: ç ”ç©¶ xxx æ–¹æ¡ˆ
priority: P1
labels: research, analysis
status: open
assignee: unassigned
created_at: 2026-02-21T10:00:00
updated_at: 2026-02-21T10:00:00
---

## é—®é¢˜æè¿°

å…·ä½“æè¿°ä»»åŠ¡å†…å®¹...

## æœŸæœ›ç»“æœ

åˆ†ææŠ¥å‘Šï¼ŒåŒ…å«æ–¹æ¡ˆå¯¹æ¯”...
```

### ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | å«ä¹‰ | è°ƒåº¦é¢‘ç‡ |
|--------|------|----------|
| P0 | ç´§æ€¥ | ç«‹å³å¤„ç† |
| P1 | é‡è¦ | ä¸‹ä¸€ä¸ªè°ƒåº¦å‘¨æœŸ |
| P2 | æ™®é€š | æ’é˜Ÿå¤„ç† |
| P3 | ä½ | æœ‰ç©ºå†è¯´ |

### æ ‡ç­¾

æ ‡ç­¾å†³å®šä»»åŠ¡æ´¾ç»™è°ï¼š

| æ ‡ç­¾ | å¯¹åº” Agent | æ“…é•¿ |
|------|-----------|------|
| `analysis`, `bug`, `performance` | åˆ†æå¸ˆ | æ·±åº¦åˆ†æã€æ¶æ„è®¾è®¡ |
| `docs`, `writing` | å†™æ‰‹ | ä¸­æ–‡å†™ä½œã€æ•™ç¨‹ |
| `research`, `cleanup` | æ¢ç´¢è€… | ä¿¡æ¯æ”¶é›†ã€æ•´ç† |
| `ç¾¤èŠ`, `ç¤¾äº¤` | ç¤¾äº¤ Agent | ç¾¤èŠäº’åŠ¨ |

## ä½¿ç”¨æ–¹å¼

### 1. åˆ›å»º Issueï¼ˆCLIï¼‰

```bash
# åœ¨ Skill ç›®å½•å†…è¿è¡Œ
python3 scripts/manager.py create \
  --title "ç ”ç©¶ Peekaboo é›†æˆæ–¹æ¡ˆ" \
  --body "è°ƒç ” Peekaboo macOS è‡ªåŠ¨åŒ–æ¡†æ¶ï¼Œè¯„ä¼°ä¸ OpenClaw çš„é›†æˆå¯èƒ½" \
  --priority P1 \
  --labels research analysis
```

### 2. åˆ›å»º Issueï¼ˆAgent è‡ªç„¶è¯­è¨€ï¼‰

å½“ç”¨æˆ·è¯´å‡ºä»»åŠ¡æ—¶ï¼ŒAgent åº”è¯¥ï¼š
1. åˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªå¯å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡
2. æå–æ ‡é¢˜ã€ä¼˜å…ˆçº§ã€æ ‡ç­¾
3. è°ƒç”¨ `manager.py create` åˆ›å»º Issue
4. ç¡®è®¤åˆ›å»ºæˆåŠŸ

**ç¤ºä¾‹å¯¹è¯**ï¼š
```
ç”¨æˆ·: "å¸®æˆ‘ç ”ç©¶ä¸€ä¸‹ karry_viber çš„ Accessibility Service æ–¹æ¡ˆ"
Agent: å·²åˆ›å»º Issue #36: ç ”ç©¶ karry_viber Accessibility Service æ–¹æ¡ˆ [P1, research]
```

### 3. æŸ¥çœ‹ Issue

```bash
# åˆ—å‡ºæ‰€æœ‰ open Issues
python3 scripts/manager.py list --status open

# æŸ¥çœ‹å•ä¸ª Issue
python3 scripts/manager.py show 35

# æŒ‰æ ‡ç­¾è¿‡æ»¤
python3 scripts/manager.py list --labels research
```

### 4. åˆ†é… Issue

```bash
python3 scripts/manager.py assign 35 analyst
```

### 5. å…³é—­ Issue

```bash
python3 scripts/manager.py close 35 --resolution "åˆ†ææŠ¥å‘Šå·²ç”Ÿæˆï¼Œè§ data/analysis.md"
```

## è‡ªåŠ¨åŒ–ç»„ä»¶

### è‡ªåŠ¨è°ƒåº¦ï¼ˆæ¯å°æ—¶ï¼‰

`scripts/auto-dispatch.sh` â€” cron æ¯å°æ—¶è¿è¡Œï¼š

1. è¿è¡Œå·¡æŸ¥ç³»ç»Ÿæ‰«æé—®é¢˜
2. å¹¿æ’­æ‰€æœ‰ open Issues ç»™åŒ¹é…çš„ Agent
3. è§¦å‘ä¸» Agent åˆ¤æ–­æ´¾æ´»

**è°ƒåº¦é€»è¾‘**ï¼šä¸» Agent è¯»å– open Issuesï¼Œæ ¹æ®æ ‡ç­¾å’Œä¼˜å…ˆçº§åˆ¤æ–­æ´¾ç»™å“ªä¸ªå­ Agent æ‰§è¡Œã€‚ä¸æ˜¯æ­»æ¿çš„è§„åˆ™è·¯ç”±ï¼Œè€Œæ˜¯æ™ºèƒ½åˆ¤æ–­ã€‚

### å·¡æŸ¥ç³»ç»Ÿï¼ˆæ¯å¤© 2 æ¬¡ï¼‰

`scripts/inspector.py` â€” è‡ªåŠ¨å‘ç°é—®é¢˜å¹¶åˆ›å»º Issueï¼š

| æ£€æŸ¥é¡¹ | æè¿° |
|--------|------|
| not-implemented stubs | ä»£ç ä¸­æœªå®ç°çš„åŠŸèƒ½ |
| æ–‡æ¡£åŒæ­¥ | ä»£ç æ”¹äº†ä½†æ–‡æ¡£æ²¡æ›´æ–° |
| æœªä½¿ç”¨ Skills | 30 å¤©æœªä¿®æ”¹çš„ Skill |
| MEMORY.md å¤§å° | è¶…è¿‡ 10KB éœ€ç²¾ç®€ |
| å†¥æƒ³äº§å‡º | æ˜¨å¤©æ˜¯å¦å®Œæˆå†¥æƒ³ |
| è¿›åŒ–æ—¥å¿— | evolution-log æ˜¯å¦æœ‰è®°å½• |

å·¡æŸ¥å‘ç°é—®é¢˜ â†’ è‡ªåŠ¨åˆ›å»º Issue â†’ ä¸‹ä¸€ä¸ªè°ƒåº¦å‘¨æœŸè‡ªåŠ¨æ´¾æ´»å¤„ç†ã€‚

**æ–‡æ¡£åŒæ­¥æ£€æŸ¥å™¨**ï¼ˆå¯æ‰©å±•ï¼Œå‚è€ƒ `inspector.py` çš„ `check_docs_sync` æ–¹æ³•ï¼‰ï¼š
- è‡ªåŠ¨æ‰«ææ‰€æœ‰ Git é¡¹ç›®å’Œ Skills
- æ£€æµ‹ä»£ç æ”¹äº†ä½† README/SKILL.md æ²¡æ›´æ–°
- æ–°é¡¹ç›®è‡ªåŠ¨çº³å…¥ç›‘æ§ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

### å¹¿æ’­ç³»ç»Ÿ

`scripts/broadcast.py` â€” æ ¹æ® Agent è®¢é˜…é…ç½®ï¼Œå°† Issue æ¨é€ç»™åŒ¹é…çš„ Agentï¼š

```python
# Agent è®¢é˜…é…ç½®ç¤ºä¾‹
AGENT_SUBSCRIPTIONS = {
    "analyst": {
        "labels": ["bug", "performance", "analysis"],
        "priority": ["P0", "P1"]
    },
    "writer": {
        "labels": ["docs", "writing"],
        "priority": ["P1", "P2"]
    }
}
```

## Cron é…ç½®ç¤ºä¾‹

```
# æ¯å°æ—¶è‡ªåŠ¨è°ƒåº¦
0 * * * * cd /workspace && bash scripts/auto-dispatch.sh

# æ—©æ™¨å·¡æŸ¥ï¼ˆ06:30ï¼‰
30 6 * * * cd /workspace && python3 scripts/inspector.py

# æ™šé—´å·¡æŸ¥ï¼ˆ22:00ï¼‰
0 22 * * * cd /workspace && python3 scripts/inspector.py
```

åœ¨ OpenClaw ä¸­ï¼Œä½¿ç”¨å†…ç½® cron ç³»ç»Ÿæ›¿ä»£ç³»ç»Ÿ crontabï¼š
- `sessionTarget: "isolated"` + `payload.kind: "agentTurn"` ç”¨äºéœ€è¦ Agent åˆ¤æ–­çš„ä»»åŠ¡
- `sessionTarget: "main"` + `payload.kind: "systemEvent"` ç”¨äºç®€å•è§¦å‘

## Git ç®¡ç†

æ•´ä¸ª `.issues/` ç›®å½•çº³å…¥ Git ç®¡ç†ï¼š

```bash
# æ¯å°æ—¶è‡ªåŠ¨ commit
git add .issues/ && git commit -m "issues: auto-update $(date +%H:%M)" && git push
```

å¥½å¤„ï¼š
- å®Œæ•´å†å²å¯è¿½æº¯ï¼ˆè°å»ºçš„ã€è°æ”¹çš„ã€ä»€ä¹ˆæ—¶å€™å…³çš„ï¼‰
- ä¸ä¾èµ–ä»»ä½•å¤–éƒ¨æœåŠ¡ï¼ˆGitHub Issuesã€Jiraã€Notionï¼‰
- ç¦»çº¿å¯ç”¨ï¼Œæœ¬åœ°é€Ÿåº¦
- å¤šè®¾å¤‡åŒæ­¥é  git push/pull

## é€‚ç”¨åœºæ™¯

| åœºæ™¯ | åšæ³• |
|------|------|
| ä¸Šç­æ— | æ—©ä¸Šä¸¢ä»»åŠ¡ â†’ ç™½å¤© Agent è‡ªåŠ¨è·‘ â†’ æ™šä¸Šçœ‹ç»“æœ |
| å¼€å‘è€… | å·¡æŸ¥ç³»ç»Ÿè‡ªåŠ¨å‘ç° bug â†’ å»º Issue â†’ Agent ä¿®å¤ |
| å†…å®¹åˆ›ä½œ | å»º"å†™æ•™ç¨‹"Issue â†’ å†™æ‰‹ Agent ç”Ÿæˆè‰ç¨¿ â†’ äººå·¥å®¡æ ¸ |
| ç ”ç©¶ | å»º"ç ”ç©¶ xxx"Issue â†’ æ¢ç´¢è€…æ”¶é›†èµ„æ–™ â†’ åˆ†æå¸ˆå‡ºæŠ¥å‘Š |

## å®‰è£…

1. å°†æ•´ä¸ª `async-issue-manager/` ç›®å½•å¤åˆ¶åˆ°ä½ çš„å·¥ä½œåŒº `skills/` ä¸‹
2. åˆ›å»º `.issues/` ç›®å½•ç»“æ„ï¼š`mkdir -p .issues/{open,in-progress,closed}`
3. è®¾ç½®ç¯å¢ƒå˜é‡ `WORKSPACE` æŒ‡å‘ä½ çš„å·¥ä½œåŒºæ ¹ç›®å½•ï¼ˆæˆ–è®©è„šæœ¬è‡ªåŠ¨æ£€æµ‹ï¼‰
4. é…ç½® cron å®šæ—¶ä»»åŠ¡ï¼ˆå‚è€ƒä¸Šæ–¹ Cron é…ç½®ï¼‰
5. è¿è¡Œ `examples/quickstart.sh` éªŒè¯å®‰è£…

## æ³¨æ„äº‹é¡¹

- Issue ID å…¨å±€é€’å¢ï¼Œä¸ä¼šé‡å¤
- å·¡æŸ¥ç³»ç»Ÿè‡ªåŠ¨å»é‡â€”â€”ç›¸åŒæ ‡é¢˜çš„ Issue ä¸ä¼šé‡å¤åˆ›å»º
- æ–‡ä»¶ç§»åŠ¨ï¼ˆopen â†’ in-progress â†’ closedï¼‰é è„šæœ¬è‡ªåŠ¨å¤„ç†
- `index.json` æ˜¯ç´¢å¼•æ–‡ä»¶ï¼Œä¸è¦æ‰‹åŠ¨ç¼–è¾‘
