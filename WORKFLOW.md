# å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ - å®Œæ•´ä½¿ç”¨æµç¨‹

## ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªè½»é‡çº§çš„å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºåè°ƒå¤šä¸ª Agent ä¹‹é—´çš„å·¥ä½œæµç¨‹ã€‚æ‰€æœ‰è„šæœ¬ä½äº `scripts/` ç›®å½•ä¸‹ã€‚

---

## å®Œæ•´å·¥ä½œæµç¨‹

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä»»åŠ¡

```bash
cd scripts
python3 manager.py create \
  --title "ä»»åŠ¡æ ‡é¢˜" \
  --body "ä»»åŠ¡è¯¦ç»†æè¿°" \
  --priority P1 \
  --labels bug feature
```

**å‚æ•°è¯´æ˜ï¼š**
- `--title`: ä»»åŠ¡æ ‡é¢˜ï¼ˆå¿…å¡«ï¼‰
- `--body`: ä»»åŠ¡æè¿°ï¼ˆå¿…å¡«ï¼‰
- `--priority`: ä¼˜å…ˆçº§ï¼Œå¯é€‰ P0/P1/P2/P3ï¼Œé»˜è®¤ P2
- `--labels`: æ ‡ç­¾ï¼Œå¤šä¸ªæ ‡ç­¾ç”¨ç©ºæ ¼åˆ†éš”

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
âœ… Issue #1 åˆ›å»º: ä»»åŠ¡æ ‡é¢˜
```

---

### ç¬¬äºŒæ­¥ï¼šæ™ºèƒ½åŒ¹é… Agent

```bash
python3 broadcast.py
```

ç³»ç»Ÿä¼šåˆ†ææ‰€æœ‰ open çŠ¶æ€çš„ä»»åŠ¡ï¼Œæ ¹æ®ä»»åŠ¡å†…å®¹æ¨èåˆé€‚çš„ Agentã€‚

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ğŸ“¢ å¹¿æ’­ 2 ä¸ª open Issues...

  ğŸ¯ debugger (è°ƒè¯•ã€é—®é¢˜æ’æŸ¥ã€æ—¥å¿—åˆ†æ): 2 ä¸ª
     #001 [P1] ä¿®å¤ç™»å½• bug
     #002 [P2] åˆ†ææ€§èƒ½é—®é¢˜

  ğŸ¯ writer (ä¸­æ–‡å†™ä½œã€æ•™ç¨‹ã€æ–‡æ¡£): 1 ä¸ª
     #002 [P2] åˆ†ææ€§èƒ½é—®é¢˜
```

---

### ç¬¬ä¸‰æ­¥ï¼šåˆ†é…ä»»åŠ¡

æ ¹æ®æ¨èç»“æœï¼Œå°†ä»»åŠ¡åˆ†é…ç»™åˆé€‚çš„ Agentï¼š

```bash
python3 manager.py assign <issue_id> <agent_name>
```

**ç¤ºä¾‹ï¼š**
```bash
python3 manager.py assign 1 debugger
```

**è¾“å‡ºï¼š**
```
âœ… Issue #1 â†’ debugger (åˆ†é…æ—¶é—´: 2026-02-25T03:40:44.559222)
```

---

### ç¬¬å››æ­¥ï¼šAgent æ›´æ–°è¿›åº¦

Agent åœ¨å¤„ç†ä»»åŠ¡è¿‡ç¨‹ä¸­ï¼Œå®šæœŸæ›´æ–°è¿›åº¦ï¼š

```bash
python3 sync_progress.py update <issue_id> \
  --progress "è¿›åº¦è¯´æ˜" \
  --agent <agent_name> \
  --status <çŠ¶æ€>
```

**çŠ¶æ€é€‰é¡¹ï¼š**
- `in-progress`: è¿›è¡Œä¸­ï¼ˆé»˜è®¤ï¼‰
- `blocked`: é‡åˆ°é˜»ç¢
- `review`: ç­‰å¾…å®¡æ ¸

**ç¤ºä¾‹ï¼š**
```bash
# å¼€å§‹å·¥ä½œ
python3 sync_progress.py update 1 \
  --progress "å¼€å§‹åˆ†æé—®é¢˜ï¼Œå·²å®šä½åˆ°ç™»å½•æ¨¡å—" \
  --agent debugger

# é‡åˆ°é—®é¢˜
python3 sync_progress.py update 1 \
  --progress "éœ€è¦æ•°æ®åº“è®¿é—®æƒé™" \
  --agent debugger \
  --status blocked

# ç»§ç»­æ¨è¿›
python3 sync_progress.py update 1 \
  --progress "æƒé™å·²è·å–ï¼Œç»§ç»­è°ƒè¯•" \
  --agent debugger \
  --status in-progress

# å®Œæˆå¾…å®¡æ ¸
python3 sync_progress.py update 1 \
  --progress "Bug å·²ä¿®å¤ï¼Œç­‰å¾…æµ‹è¯•éªŒè¯" \
  --agent debugger \
  --status review
```

---

### ç¬¬äº”æ­¥ï¼šç›‘æ§ä»»åŠ¡çŠ¶æ€

å®šæœŸæ£€æŸ¥ä»»åŠ¡è¿›å±•ï¼Œè¯†åˆ«åœæ»æˆ–è¶…æ—¶çš„ä»»åŠ¡ï¼š

```bash
# ä½¿ç”¨é»˜è®¤ 24 å°æ—¶è¶…æ—¶é˜ˆå€¼
python3 monitor.py check

# è‡ªå®šä¹‰è¶…æ—¶é˜ˆå€¼ï¼ˆå°æ—¶ï¼‰
python3 monitor.py check --timeout-hours 12

# å‘é€é€šçŸ¥ç»™ç›¸å…³ Agent
python3 monitor.py check --notify
```

**æ­£å¸¸è¾“å‡ºï¼š**
```
âœ… æ‰€æœ‰ä»»åŠ¡è¿›å±•æ­£å¸¸
```

**å‘ç°é—®é¢˜æ—¶ï¼š**
```
âš ï¸  å‘ç° 2 ä¸ªéœ€è¦å…³æ³¨çš„ä»»åŠ¡

================================================================================
ğŸš¨ Issue #3: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
   è´Ÿè´£äºº: optimizer
   é—®é¢˜: å·²åˆ†é… 25.3 å°æ—¶ï¼Œä½†æ— è¿›åº¦æ›´æ–°
   å»ºè®®: è¯·æ›´æ–°ä»»åŠ¡è¿›åº¦æˆ–è¯´æ˜é‡åˆ°çš„é—®é¢˜
--------------------------------------------------------------------------------
â° Issue #5: ç¼–å†™ API æ–‡æ¡£
   è´Ÿè´£äºº: writer
   é—®é¢˜: æœ€åæ›´æ–°è·ä»Š 15.7 å°æ—¶
   æœ€åè¿›åº¦: å®Œæˆäº† 50% çš„æ¥å£æ–‡æ¡£
   å»ºè®®: è·Ÿè¿›ä»»åŠ¡è¿›å±•
--------------------------------------------------------------------------------
```

---

### ç¬¬å…­æ­¥ï¼šæŸ¥çœ‹è¿›åº¦æ‘˜è¦

éšæ—¶æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡çš„æœ€æ–°è¿›åº¦ï¼š

```bash
python3 sync_progress.py summary
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ğŸ“Š ä»»åŠ¡è¿›åº¦æ‘˜è¦ (å…± 3 ä¸ªä»»åŠ¡)

================================================================================
ğŸ”„ Issue #1 | debugger | 2026-02-25T03:45:30
   Bug å·²ä¿®å¤ï¼Œç­‰å¾…æµ‹è¯•éªŒè¯
--------------------------------------------------------------------------------
ğŸš« Issue #2 | optimizer | 2026-02-25T03:30:15
   éœ€è¦æ•°æ®åº“è®¿é—®æƒé™
--------------------------------------------------------------------------------
ğŸ‘€ Issue #3 | writer | 2026-02-25T03:50:20
   å®Œæˆäº† 80% çš„æ–‡æ¡£
--------------------------------------------------------------------------------
```

**çŠ¶æ€å›¾æ ‡è¯´æ˜ï¼š**
- ğŸ”„ in-progress: è¿›è¡Œä¸­
- ğŸš« blocked: è¢«é˜»å¡
- ğŸ‘€ review: å¾…å®¡æ ¸

---

### ç¬¬ä¸ƒæ­¥ï¼šå…³é—­ä»»åŠ¡

ä»»åŠ¡å®Œæˆåï¼Œè®°å½•è§£å†³æ–¹æ¡ˆå¹¶å…³é—­ï¼š

```bash
python3 manager.py close <issue_id> --resolution "è§£å†³æ–¹æ¡ˆæè¿°"
```

**ç¤ºä¾‹ï¼š**
```bash
python3 manager.py close 1 --resolution "ä¿®å¤äº†ç™»å½•éªŒè¯é€»è¾‘ï¼Œå·²é€šè¿‡æµ‹è¯•"
```

**è¾“å‡ºï¼š**
```
âœ… Issue #1 å·²å…³é—­
```

---

## å¸¸ç”¨æŸ¥è¯¢å‘½ä»¤

### æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨

```bash
# æŸ¥çœ‹æ‰€æœ‰ open ä»»åŠ¡
python3 manager.py list

# æŸ¥çœ‹ç‰¹å®šçŠ¶æ€çš„ä»»åŠ¡
python3 manager.py list --status in-progress
python3 manager.py list --status closed

# æŸ¥çœ‹ç‰¹å®š Agent çš„ä»»åŠ¡
python3 manager.py list --assignee debugger
```

### æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…

```bash
python3 manager.py show <issue_id>
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
---
id: 1
title: ä¿®å¤ç™»å½• bug
priority: P1
labels: bug, security
status: closed
assignee: debugger
created_at: 2026-02-25T03:38:26.123456
assigned_at: 2026-02-25T03:40:44.559222
---

ç”¨æˆ·æ— æ³•é€šè¿‡é‚®ç®±ç™»å½•ç³»ç»Ÿ

## è§£å†³æ–¹æ¡ˆ

ä¿®å¤äº†ç™»å½•éªŒè¯é€»è¾‘ï¼Œå·²é€šè¿‡æµ‹è¯•

å…³é—­æ—¶é—´: 2026-02-25T03:55:30.123456
```

### æŸ¥çœ‹ä»»åŠ¡ç»Ÿè®¡

```bash
python3 manager.py stats
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ğŸ“Š Issue ç»Ÿè®¡
  æ€»è®¡: 10 | ä¸‹ä¸€ä¸ª ID: #11
  open: 3
  in-progress: 4
  closed: 3
```

### æŸ¥çœ‹å•ä¸ªä»»åŠ¡çš„è¯¦ç»†çŠ¶æ€

```bash
python3 monitor.py status <issue_id>
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ğŸ“‹ Issue #1: ä¿®å¤ç™»å½• bug

================================================================================
çŠ¶æ€: closed
è´Ÿè´£äºº: debugger
ä¼˜å…ˆçº§: P1
æ ‡ç­¾: bug, security
åˆ›å»ºæ—¶é—´: 2026-02-25T03:38:26
åˆ†é…æ—¶é—´: 2026-02-25T03:40:44
å·²åˆ†é…: 0.3 å°æ—¶
--------------------------------------------------------------------------------

ğŸ“Š è¿›åº¦å†å² (3 æ¡æ›´æ–°):

ğŸ”„ 2026-02-25T03:41:00
   å¼€å§‹åˆ†æé—®é¢˜ï¼Œå·²å®šä½åˆ°ç™»å½•æ¨¡å—

ğŸš« 2026-02-25T03:42:30
   éœ€è¦æ•°æ®åº“è®¿é—®æƒé™

ğŸ‘€ 2026-02-25T03:50:00
   Bug å·²ä¿®å¤ï¼Œç­‰å¾…æµ‹è¯•éªŒè¯
```

---

## é£ä¹¦é€šçŸ¥é›†æˆ

### å‘é€ä»»åŠ¡é€šçŸ¥åˆ°é£ä¹¦

```bash
python3 feishu_notify.py <issue_id>
```

ç³»ç»Ÿä¼šå°†ä»»åŠ¡è¯¦æƒ…å‘é€åˆ°é…ç½®çš„é£ä¹¦ç¾¤ç»„ã€‚

**é…ç½®æ–¹æ³•ï¼š**
åœ¨ `feishu_notify.py` ä¸­è®¾ç½®ï¼š
```python
FEISHU_WEBHOOK = "https://open.feishu.cn/open-apis/bot/v2/hook/your-webhook-url"
```

---

## Agent èƒ½åŠ›é…ç½®

åœ¨ `broadcast.py` ä¸­é…ç½® Agent çš„èƒ½åŠ›å’Œå…³é”®è¯ï¼š

```python
AGENT_CAPABILITIES = {
    "debugger": {
        "keywords": ["bug", "é”™è¯¯", "è°ƒè¯•", "é—®é¢˜", "ä¿®å¤", "å¼‚å¸¸", "å´©æºƒ"],
        "description": "è°ƒè¯•ã€é—®é¢˜æ’æŸ¥ã€æ—¥å¿—åˆ†æ"
    },
    "writer": {
        "keywords": ["æ–‡æ¡£", "æ•™ç¨‹", "è¯´æ˜", "æŒ‡å—", "å†™ä½œ", "ç¿»è¯‘"],
        "description": "ä¸­æ–‡å†™ä½œã€æ•™ç¨‹ã€æ–‡æ¡£"
    },
    "optimizer": {
        "keywords": ["æ€§èƒ½", "ä¼˜åŒ–", "æ…¢", "å¡é¡¿", "å†…å­˜", "CPU"],
        "description": "æ€§èƒ½ä¼˜åŒ–ã€èµ„æºç®¡ç†"
    },
    # æ·»åŠ æ›´å¤š Agent...
}
```

---

## æ•°æ®å­˜å‚¨ç»“æ„

```
.issues/
â”œâ”€â”€ index.json          # ä»»åŠ¡ç´¢å¼•ï¼ˆæ‰€æœ‰ä»»åŠ¡çš„å…ƒæ•°æ®ï¼‰
â”œâ”€â”€ progress.jsonl      # è¿›åº¦æ—¥å¿—ï¼ˆJSONL æ ¼å¼ï¼Œæ¯è¡Œä¸€æ¡è®°å½•ï¼‰
â”œâ”€â”€ 1.md               # Issue #1 çš„è¯¦ç»†å†…å®¹
â”œâ”€â”€ 2.md               # Issue #2 çš„è¯¦ç»†å†…å®¹
â””â”€â”€ ...
```

---

## å…¸å‹ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šBug ä¿®å¤æµç¨‹

```bash
# 1. åˆ›å»º Bug ä»»åŠ¡
python3 manager.py create --title "ä¿®å¤ç”¨æˆ·ç™»å½•é—®é¢˜" --body "ç”¨æˆ·åé¦ˆæ— æ³•ç™»å½•" --priority P0 --labels bug urgent

# 2. æŸ¥çœ‹æ¨è
python3 broadcast.py

# 3. åˆ†é…ç»™ debugger
python3 manager.py assign 1 debugger

# 4. debugger å¼€å§‹å·¥ä½œ
python3 sync_progress.py update 1 --progress "å¼€å§‹å¤ç°é—®é¢˜" --agent debugger

# 5. debugger æ›´æ–°è¿›åº¦
python3 sync_progress.py update 1 --progress "å·²å®šä½é—®é¢˜ï¼Œåœ¨ä¿®å¤ä¸­" --agent debugger

# 6. debugger å®Œæˆä¿®å¤
python3 sync_progress.py update 1 --progress "ä¿®å¤å®Œæˆï¼Œç­‰å¾…æµ‹è¯•" --agent debugger --status review

# 7. æµ‹è¯•é€šè¿‡ï¼Œå…³é—­ä»»åŠ¡
python3 manager.py close 1 --resolution "ä¿®å¤äº† OAuth éªŒè¯é€»è¾‘ï¼Œå·²éƒ¨ç½²ä¸Šçº¿"
```

### åœºæ™¯ 2ï¼šæ–‡æ¡£ç¼–å†™æµç¨‹

```bash
# 1. åˆ›å»ºæ–‡æ¡£ä»»åŠ¡
python3 manager.py create --title "ç¼–å†™ API ä½¿ç”¨æ–‡æ¡£" --body "ä¸ºæ–°ç‰ˆ API ç¼–å†™å®Œæ•´æ–‡æ¡£" --priority P2 --labels documentation

# 2. åˆ†é…ç»™ writer
python3 manager.py assign 2 writer

# 3. writer å®šæœŸæ›´æ–°è¿›åº¦
python3 sync_progress.py update 2 --progress "å®Œæˆäº†è®¤è¯éƒ¨åˆ†çš„æ–‡æ¡£" --agent writer
python3 sync_progress.py update 2 --progress "å®Œæˆäº† CRUD æ¥å£æ–‡æ¡£" --agent writer
python3 sync_progress.py update 2 --progress "æ·»åŠ äº†ä»£ç ç¤ºä¾‹" --agent writer

# 4. æäº¤å®¡æ ¸
python3 sync_progress.py update 2 --progress "æ–‡æ¡£åˆç¨¿å®Œæˆï¼Œè¯·å®¡æ ¸" --agent writer --status review

# 5. å®¡æ ¸é€šè¿‡ï¼Œå…³é—­
python3 manager.py close 2 --resolution "API æ–‡æ¡£å·²å®Œæˆå¹¶å‘å¸ƒ"
```

### åœºæ™¯ 3ï¼šç›‘æ§å’Œè·Ÿè¿›

```bash
# æ¯å¤©å®šæœŸæ£€æŸ¥ï¼ˆå¯ä»¥é…ç½® cronï¼‰
python3 monitor.py check --timeout-hours 24 --notify

# æŸ¥çœ‹æ‰€æœ‰è¿›è¡Œä¸­çš„ä»»åŠ¡
python3 manager.py list --status in-progress

# æŸ¥çœ‹è¿›åº¦æ‘˜è¦
python3 sync_progress.py summary

# å¯¹åœæ»çš„ä»»åŠ¡è¿›è¡Œè·Ÿè¿›
python3 monitor.py status 3
```

---

## è‡ªåŠ¨åŒ–å»ºè®®

### å®šæ—¶ç›‘æ§ï¼ˆä½¿ç”¨ cronï¼‰

```bash
# æ¯ 6 å°æ—¶æ£€æŸ¥ä¸€æ¬¡ä»»åŠ¡çŠ¶æ€
0 */6 * * * cd /path/to/scripts && python3 monitor.py check --timeout-hours 12 --notify

# æ¯å¤©æ—©ä¸Š 9 ç‚¹å‘é€è¿›åº¦æ‘˜è¦
0 9 * * * cd /path/to/scripts && python3 sync_progress.py summary
```

### é›†æˆåˆ° CI/CD

```bash
# åœ¨éƒ¨ç½²å®Œæˆåè‡ªåŠ¨æ›´æ–°ä»»åŠ¡è¿›åº¦
python3 sync_progress.py update $ISSUE_ID --progress "å·²éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ" --agent ci-bot
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šæ‰¾ä¸åˆ°ä»»åŠ¡

```bash
# æ£€æŸ¥ä»»åŠ¡æ˜¯å¦å­˜åœ¨
python3 manager.py list

# æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…
python3 manager.py show <issue_id>
```

### é—®é¢˜ï¼šAgent æ²¡æœ‰æ”¶åˆ°é€šçŸ¥

```bash
# æ£€æŸ¥ monitor æ˜¯å¦æ­£ç¡®è¯†åˆ«é—®é¢˜
python3 monitor.py check --timeout-hours 1

# æ‰‹åŠ¨å‘é€é€šçŸ¥
python3 monitor.py check --notify
```

### é—®é¢˜ï¼šè¿›åº¦æ›´æ–°å¤±è´¥

```bash
# æ£€æŸ¥ issue_id å’Œ agent åç§°æ˜¯å¦æ­£ç¡®
python3 manager.py show <issue_id>

# ç¡®è®¤ä»»åŠ¡å·²åˆ†é…ç»™è¯¥ Agent
python3 manager.py list --assignee <agent_name>
```

---

## æ€»ç»“

è¿™å¥—ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„å¼‚æ­¥ä»»åŠ¡ç®¡ç†èƒ½åŠ›ï¼š

âœ… **ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†** - ä»åˆ›å»ºåˆ°å…³é—­çš„å®Œæ•´æµç¨‹
âœ… **æ™ºèƒ½ Agent åŒ¹é…** - åŸºäºä»»åŠ¡å†…å®¹æ¨èåˆé€‚çš„å¤„ç†è€…
âœ… **å®æ—¶è¿›åº¦è·Ÿè¸ª** - Agent å¯éšæ—¶æ›´æ–°ä»»åŠ¡çŠ¶æ€
âœ… **è‡ªåŠ¨ç›‘æ§å‘Šè­¦** - è¯†åˆ«åœæ»å’Œè¶…æ—¶ä»»åŠ¡
âœ… **å¤šæ¸ é“é€šçŸ¥** - æ”¯æŒé£ä¹¦ç­‰é€šçŸ¥æ–¹å¼
âœ… **çµæ´»çš„æŸ¥è¯¢** - å¤šç»´åº¦æŸ¥çœ‹ä»»åŠ¡å’Œè¿›åº¦

ç³»ç»Ÿè®¾è®¡è½»é‡ã€æ˜“ç”¨ï¼Œé€‚åˆå¤š Agent åä½œåœºæ™¯ã€‚
